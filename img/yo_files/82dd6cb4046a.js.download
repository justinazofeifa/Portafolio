__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function n(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?t(s,!0).forEach(function(t){i(d[1])(n,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):t(s).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var o=r(d[2])(3608),s={fontSize:'25px',height:'25px',margin:'8px',width:'25px'},u={right:'53px',bottom:'355px'},p=function(t){var n=a(d[3]).createElement(i(d[4]),{href:r(d[5]).buildLoginLink(i(d[6]).location.pathname,{source:'post_comment_input'})},r(d[2])(2671));return a(d[3]).createElement("span",null,r(d[2])(484,{loginLink:n}))},c=function(t){return a(d[3]).createElement("span",null,r(d[2])(2368,{username:t.username}))},l=function(t){return a(d[3]).createElement("div",{className:"up_hg"},a(d[3]).createElement("span",null,r(d[2])(2480,{username:t.username})),a(d[3]).createElement(r(d[7]).Button,{borderless:!0,color:"ig-secondary-button",onClick:t.onClearReply},"âœ•"))},h=(function(t){function n(n){var o;return o=t.call(this,n)||this,o.focusAndScroll=function(){var t=function(){var t=i(d[9])(o.$PostCommentInput1);t.focus(),r(d[10]).isMobile()&&setTimeout(function(){'function'==typeof t.scrollIntoView&&(t.scrollIntoView(!0),window.scrollBy(0,-200))},10)};o.setState({hasBeenFocused:!0},function(){setTimeout(function(){return t()})})},o.$PostCommentInput4=function(t){t.preventDefault(),o.$PostCommentInput3()||(o.props.onCommentChange(o.state.pendingComment),o.setState({needsFlush:!1}),o.props.onCommentSubmit().then(function(){o.$PostCommentInput1&&o.$PostCommentInput1.blur()}))},o.$PostCommentInput5=function(t){'Enter'!==t.key||t.shiftKey||o.$PostCommentInput4(t)},o.$PostCommentInput6=function(t){t.stopPropagation()},o.$PostCommentInput7=function(t,n){o.state.commentAttempt||r(d[11]).logAction_DEPRECATED('commentAttempt',{source:o.props.analyticsContext,type:!0===o.props.isVideo?'video':'photo',isLoggedIn:o.props.isLoggedIn}),o.setState({commentAttempt:!0,cursorIndex:n,isEmojiTrayOpen:null!=o.$PostCommentInput2,needsFlush:!0,pendingComment:t})},o.$PostCommentInput8=function(t){o.closeEmojiTrayIfOpen()},o.$PostCommentInput9=function(t){o.$PostCommentInput1=t},o.$PostCommentInput10=function(t){o.setState({hasBeenFocused:!0,hasFocus:!0})},o.$PostCommentInput11=function(t){o.setState({hasFocus:!1}),t.relatedTarget!==o.emojiPickerButton.current&&o.closeEmojiTrayIfOpen()},o.$PostCommentInput12=function(){var t=o.props,n=t.analyticsContext,s=t.id,u=t.ownerId;r(d[12]).logInteractionAction({containerModule:n,eventName:'instagram_organic_comment_button',mediaId:s,mediaAuthorId:u})},o.$PostCommentInput13=function(t,n){var s=i(d[13])(t,n,o.state.pendingComment,o.state.cursorIndex),u=s.updatedCursorIndex,p=s.updatedText;o.$PostCommentInput7(p,u)},o.$PostCommentInput14=function(t){var n,s;o.$PostCommentInput2=t;var u=(null===(n=o.$PostCommentInput1)||void 0===n?void 0:n.selectionStart)||0,p=(null===(s=o.$PostCommentInput1)||void 0===s?void 0:s.selectionEnd)||0,c=o.state.pendingComment.substring(0,u)+t+o.state.pendingComment.substring(p),l=u+t.length;o.$PostCommentInput7(c,l)},o.$PostCommentInput15=function(t){!0===t&&r(d[11]).logAction_DEPRECATED('emojiButtonClicked',{source:o.props.analyticsContext,type:!0===o.props.isVideo?'video':'photo',isLoggedIn:o.props.isLoggedIn}),o.setState({isEmojiTrayOpen:t})},o.$PostCommentInput16=function(){return r(d[10]).isDesktop()&&!0===i(d[14])._("118","0")},o.emojiPickerButton=a(d[3]).createRef(),o.state={commentAttempt:!1,hasBeenFocused:!1,needsFlush:!1,pendingComment:n.pendingComment,cursorIndex:n.pendingComment.length,isEmojiTrayOpen:!1},o}i(d[8])(n,t);var h=n.prototype;return h.componentDidMount=function(){!0===this.props.willFocusAndScrollToInput&&this.focusAndScroll()},h.componentWillUnmount=function(){!this.props.commentSaveIsInFlight&&this.state.needsFlush&&this.state.pendingComment.length>0&&this.props.onCommentChange(this.state.pendingComment)},h.componentDidUpdate=function(t,n){var o=this.props,s=o.commentSaveIsInFlight,u=o.pendingComment;this.$PostCommentInput1&&!n.hasBeenFocused&&this.state.hasBeenFocused&&this.$PostCommentInput1.focus(),t.pendingComment!==u&&(this.setState({pendingComment:u,cursorIndex:u.length}),this.$PostCommentInput1&&this.$PostCommentInput1.focus());var p=n.isEmojiTrayOpen!==this.state.isEmojiTrayOpen;(null!=this.$PostCommentInput2||p)&&(this.$PostCommentInput2=null,this.$PostCommentInput1&&(p&&this.setState({cursorIndex:this.$PostCommentInput1.selectionEnd}),this.$PostCommentInput1.focus())),t.commentSaveIsInFlight&&!s&&''===u&&this.setState({pendingComment:'',needsFlush:!0})},h.shouldComponentUpdate=function(t,n){return this.props.className!==t.className||this.props.commentSaveIsInFlight!==t.commentSaveIsInFlight||this.props.pendingComment!==t.pendingComment||this.state.pendingComment!==n.pendingComment||this.state.hasBeenFocused!==n.hasBeenFocused||this.state.hasFocus!==n.hasFocus||this.state.isEmojiTrayOpen!==n.isEmojiTrayOpen},h.$PostCommentInput3=function(){return 0===this.state.pendingComment.trim().length||this.props.commentSaveIsInFlight},h.closeEmojiTrayIfOpen=function(){this.setState(function(t){return t.isEmojiTrayOpen?{isEmojiTrayOpen:!1}:{}})},h.displayForm=function(){return a(d[3]).createElement("form",{className:"X7cDz",method:"POST",onSubmit:this.$PostCommentInput4},this.props.commentSaveIsInFlight&&a(d[3]).createElement(r(d[7]).Spinner,{position:"absolute"}),this.$PostCommentInput16()&&a(d[3]).createElement(i(d[15]),{emojiArrowLeftOffset:17,emojiIconStyles:s,emojiTrayPositionStyles:u,emojiTrayWidth:295,isEmojiTrayOpen:this.state.isEmojiTrayOpen,onEmojiClick:this.$PostCommentInput14,ref:this.emojiPickerButton,setEmojiTrayOpen:this.$PostCommentInput15}),a(d[3]).createElement(i(d[16]),{"aria-label":o,autosize:!0===this.props.forceTextareaAutosize||!0===this.props.willFocusAndScrollToInput||this.state.hasBeenFocused||''!==this.state.pendingComment,className:"Ypffh",cursorIndex:this.state.cursorIndex,disabled:this.props.commentSaveIsInFlight,inputRef:this.$PostCommentInput9,onBlur:this.$PostCommentInput11,onChange:this.$PostCommentInput7,onClick:this.$PostCommentInput8,onFocus:this.$PostCommentInput10,onKeyPress:this.$PostCommentInput5,onKeyUp:this.$PostCommentInput6,onTypeaheadResultSelect:this.$PostCommentInput13,placeholder:o,value:this.state.pendingComment}),this.props.hasPostButton&&a(d[3]).createElement(r(d[7]).Button,{borderless:!0,disabled:this.$PostCommentInput3(),onClick:this.$PostCommentInput12,type:"submit"},r(d[2])(3030)))},h.$PostCommentInput17=function(){return!this.$PostCommentInput1||this.props.viewportHeight-this.$PostCommentInput1.getBoundingClientRect().bottom>200},h.render=function(){var t=this.props,n=t.canViewerProvideFeedback,o=t.className,s=t.hasRichCommentInput,u=t.isLoggedIn,h=t.onClearReply,C=t.ownerUsername,I=t.repliedToUsername,f=t.viewerProfilePicture;return a(d[3]).createElement("section",{className:i(d[17])("sH9wk "+(!0===s?"n1LTb":""),o)},a(d[3]).createElement("div",{className:"RxpZH"},!0===s&&null!=f&&''!==f&&a(d[3]).createElement(i(d[18]),{className:"_8tZ3C",isLink:!1,profilePictureUrl:f,size:r(d[7]).CORE_CONSTANTS.AVATAR_SIZES.small}),u?n?this.displayForm():a(d[3]).createElement(c,{username:i(d[9])(C)}):a(d[3]).createElement(p,null)),null!=I&&''!==I&&r(d[10]).isMobile()&&a(d[3]).createElement(l,{onClearReply:h,username:I}),u&&n&&!0===this.state.hasFocus&&a(d[3]).createElement(i(d[19]),{className:(r(d[10]).isMobile()?"q6Mjn":"")+" "+(r(d[10]).isMobile()?"":"Mfkwx")+" "+(r(d[10]).isMobile()||this.$PostCommentInput17()?"":"wUsz1"),cursorIndex:this.state.cursorIndex,inputString:this.state.pendingComment,onResultSelect:this.$PostCommentInput13,showResultsCondensed:!0,useSearchTriggers:!0}))},n})(a(d[3]).Component);h.defaultProps={forceTextareaAutosize:r(d[10]).isMobile(),hasRichCommentInput:!1};var C=r(d[23]).connect(function(t,n){var o=t.pendingComments.get(n.id);return{analyticsContext:t.navigation.pageIdentifier||'',commentSaveIsInFlight:(null===o||void 0===o?void 0:o.committing)||!1,loading:t.search.loading,ownerUsername:i(d[9])(r(d[20]).getUserById(t,n.ownerId).username),pendingComment:(null===o||void 0===o?void 0:o.text)||'',repliedToCommentAuthorId:null===o||void 0===o?void 0:o.repliedToCommentAuthorId,repliedToCommentId:null===o||void 0===o?void 0:o.repliedToCommentId,repliedToUsername:null===o||void 0===o?void 0:o.repliedToUsername,results:t.search.results,searchedForQuery:t.search.searchedForQuery,selectedIndex:t.search.selectedIndex,viewportHeight:t.displayProperties.viewportHeight}},function(t,n){return{onCommentChange:function(o,s,u,p){t(r(d[21]).changePendingComment(n.id,o,s,u,p))},onClearReply:function(){t(r(d[21]).clearPendingComment(n.id))},onCommentSubmit:function(){return t(r(d[21]).commitPendingComment(n.id,n.ownerId,n.analyticsContext))},onTypeaheadResultHighlight:function(n,o){t(r(d[22]).selectResult(n,o))}}},function(t,o,s){return n({},t,{},o,{},s,{onCommentChange:function(n){return o.onCommentChange(n,t.repliedToCommentId,t.repliedToCommentAuthorId,t.repliedToUsername)}})},{forwardRef:!0})(h);e.default=C,e.PostCommentInput=h},12845056,[12845057,19726336,19726397,3,19791927,19726600,19726711,19791914,19726416,19791900,19726344,19726441,10485794,12713987,19726502,12845058,12713991,19791920,19791953,12713994,19726673,12845063,19529964,5]);
__d(function() {},12845057,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(t,u,n,s){var c='';switch(t.type){case r(d[0]).USER_RESULT:c=t.username;break;case r(d[0]).HASHTAG_RESULT:c=t.name;break;default:return{updatedText:n,updatedCursorIndex:s}}var l=n.substring(0,u);return{updatedText:l+c+" "+n.substring(s),updatedCursorIndex:l.length+c.length+" ".length}}},12713987,[19726636]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=26,o=309,n=309,l='bottom',E={right:'53px',bottom:'360px'},T={fontSize:32,height:'32px',margin:'6px',width:'32px'},s=24,c=r(d[1])(2552),_=i(d[8])(function(_){var v=_.buttonHover,f=_.isEmojiTrayOpen,j=_.onEmojiClick,u=_.setEmojiTrayOpen,O=_.emojiButtonSize,h=void 0===O?s:O,y=_.emojiColor,p=void 0===y?'ig-primary-text':y,A=_.emojiIconStyles,F=void 0===A?T:A,L=_.emojiArrowLeftOffset,I=void 0===L?t:L,S=_.emojiTrayHeight,x=void 0===S?o:S,w=_.emojiTrayCaratPosition,C=void 0===w?l:w,D=_.emojiTrayWidth,P=void 0===D?n:D,R=_.emojiTrayPositionStyles,U=void 0===R?E:R,b=_.forwardedRef,H=_.hasPortal,M=void 0!==H&&H,J=M?i(d[2]):a(d[3]).Fragment;return a(d[3]).createElement(a(d[3]).Fragment,null,a(d[3]).createElement(i(d[4]),{hover:v,onClick:function(){return u(!f)},ref:b},a(d[3]).createElement(i(d[5]),{alt:c,color:p,size:h})),a(d[3]).createElement(J,null,a(d[3]).createElement("div",{className:M?"sRhVK":"",style:U},a(d[3]).createElement(r(d[6]).Popover,{arrowLeftOffset:I,arrowPosition:C,isVisible:f},a(d[3]).createElement(r(d[6]).Box,{height:x,margin:2,width:P},a(d[3]).createElement(i(d[7]),{emojiIconStyles:F,onClick:j}))))))});e.default=_,e.DEFAULT_ARROW_LEFT_OFFSET=t,e.DEFAULT_EMOJI_TRAY_HEIGHT=o,e.DEFAULT_EMOJI_TRAY_WIDTH=n,e.DEFAULT_EMOJI_ICON_STYLES=T,e.DEFAULT_EMOJI_BUTTON_ALT_TEXT=c},12845058,[12845059,19726397,19791986,3,19792014,12845060,19791914,12845061,19726765]);
__d(function() {},12845059,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=a(d[0]).memo(function(t){return a(d[0]).createElement(i(d[1]),i(d[2])({},t,{viewBox:"0 0 48 48"}),a(d[0]).createElement("path",{d:"M24 48C10.8 48 0 37.2 0 24S10.8 0 24 0s24 10.8 24 24-10.8 24-24 24zm0-45C12.4 3 3 12.4 3 24s9.4 21 21 21 21-9.4 21-21S35.6 3 24 3z"}),a(d[0]).createElement("path",{d:"M34.9 24c0-1.4-1.1-2.5-2.5-2.5s-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5zm-21.8 0c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM24 37.3c-5.2 0-8-3.5-8.2-3.7-.5-.6-.4-1.6.2-2.1.6-.5 1.6-.4 2.1.2.1.1 2.1 2.5 5.8 2.5 3.7 0 5.8-2.5 5.8-2.5.5-.6 1.5-.7 2.1-.2.6.5.7 1.5.2 2.1 0 .2-2.8 3.7-8 3.7z"}))});e.default=t},12845060,[3,19791989,19726741]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function n(n){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?t(c,!0).forEach(function(t){i(d[1])(n,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):t(c).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(c,t))})}return n}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var o=function(t){var n=t.headerText;return a(d[2]).createElement(r(d[3]).Box,{marginBottom:2,marginEnd:2,marginStart:2,marginTop:4,width:"100%"},a(d[2]).createElement(r(d[3]).Text.BodyEmphasized,{color:"ig-secondary-text"},n))},c=function(t){var o=t.emoji,c=t.emojiIconStyles,l=t.onClick;return a(d[2]).createElement(r(d[3]).Button,{borderless:!0,onClick:function(){return l(o)}},a(d[2]).createElement("div",{className:"CIwC8",style:n({},c)},o))};e.default=function(t){var n=t.emojiIconStyles,l=t.onClick;return a(d[2]).createElement(r(d[3]).Box,{direction:"row",wrap:!0},a(d[2]).createElement(r(d[3]).Box,{margin:2,width:"100%"},a(d[2]).createElement(r(d[3]).Text.BodyEmphasized,{color:"ig-secondary-text"},r(d[4]).EMOJI_TRAY_MOST_POPULAR)),r(d[4]).mostPopularEmojis.map(function(t){return a(d[2]).createElement(c,{emoji:t,emojiIconStyles:n,key:t,onClick:l})}),Object.keys(r(d[4]).Emojis).map(function(t){var s=r(d[4]).Emojis[t],u=s.emojis,y=s.label;return a(d[2]).createElement(a(d[2]).Fragment,{key:t},a(d[2]).createElement(o,{headerText:y}),u.map(function(t){return a(d[2]).createElement(c,{emoji:t,emojiIconStyles:n,key:t,onClick:l})}))}))}},12845061,[12845062,19726336,3,19791914,19726517]);
__d(function() {},12845062,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=(function(t){function n(){for(var n,p=arguments.length,s=new Array(p),o=0;o<p;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s))||this,n.state={hasFocus:!1},n.$TypeaheadInput3=function(t){n.props.onBlur&&n.props.onBlur(t),n.setState({hasFocus:!1})},n.$TypeaheadInput4=function(t){n.props.onFocus&&n.props.onFocus(t),n.setState({hasFocus:!0})},n.$TypeaheadInput5=function(t){n.props.onChange(t.target.value,t.target.selectionEnd)},n.$TypeaheadInput2=function(){var t=n.$TypeaheadInput1;t&&(t.focus(),t.setSelectionRange(n.props.cursorIndex,n.props.cursorIndex))},n.$TypeaheadInput6=function(t){n.$TypeaheadInput1=t,n.props.inputRef&&n.props.inputRef(t)},n.$TypeaheadInput7=function(t){var p=n.props.search,s=p.loading,o=p.results,u=p.searchedForQuery,h=p.selectedIndex;!t.altKey&&(o.length>0||s)&&(t.which===i(d[1]).DOWN?(null==h?n.props.onTypeaheadResultHighlight(0,r(d[2]).SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD):h<o.length-1&&n.props.onTypeaheadResultHighlight(h+1,r(d[2]).SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),t.preventDefault()):t.which===i(d[1]).UP?(null!=h&&h>0&&n.props.onTypeaheadResultHighlight(h-1,r(d[2]).SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),t.preventDefault()):t.which===i(d[1]).RETURN&&(null!=o&&o.length>0&&(null!=h?n.props.onTypeaheadResultSelect(o[h],n.props.cursorIndex-u.length):n.props.onTypeaheadResultHighlight(0,r(d[2]).SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD)),t.preventDefault()))},n}i(d[0])(n,t);var p=n.prototype;return p.shouldComponentUpdate=function(t,n){return this.props.value!==t.value||this.props.cursorIndex!==t.cursorIndex||this.state.hasFocus!==n.hasFocus},p.componentDidUpdate=function(t,n){this.state.hasFocus&&null!=this.$TypeaheadInput1&&this.props.cursorIndex!==this.$TypeaheadInput1.selectionEnd&&this.$TypeaheadInput2()},p.render=function(){var t=this.props,n=t.autosize,p=t.className,s=(t.cursorIndex,t.inputRef,t.onTypeaheadResultHighlight,t.onTypeaheadResultSelect,t.search,i(d[3])(t,["autosize","className","cursorIndex","inputRef","onTypeaheadResultHighlight","onTypeaheadResultSelect","search"])),o={className:p,onChange:this.$TypeaheadInput5,onBlur:this.$TypeaheadInput3,onFocus:this.$TypeaheadInput4,onKeyDown:this.$TypeaheadInput7,autoComplete:'off',autoCorrect:'off'};return!0===n?a(d[4]).createElement(i(d[5]),i(d[6])({},s,o,{ref:this.$TypeaheadInput6})):a(d[4]).createElement("textarea",i(d[6])({},s,o,{ref:this.$TypeaheadInput6}))},n})(a(d[4]).Component),n=r(d[8]).connect(function(t){return{search:t.search}},function(t){return{onTypeaheadResultHighlight:function(n,p){t(r(d[7]).selectResult(n,p))}}})(t);e.default=n},12713991,[19726416,19791985,19726636,19726407,3,10485937,19726741,19529964,5]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n,c,h){void 0===c&&(c=1),void 0===h&&(h=1/0),u||((u=document.createElement('textarea')).setAttribute('tab-index','-1'),u.setAttribute('aria-hidden','true'),o(u)),null===u.parentNode&&document.body.appendChild(u);var s=t.paddingSize,f=t.borderSize,p=t.sizingStyle,b=p.boxSizing;Object.keys(p).forEach(function(t){var n=t;u.style[n]=p[n]}),o(u),u.value=n;var v=l(u,t);u.value='x';var x=u.scrollHeight-s,S=x*c;'border-box'===b&&(S=S+s+f),v=Math.max(S,v);var y=x*h;return'border-box'===b&&(y=y+s+f),v=Math.min(y,v),[v,x]}Object.defineProperty(e,'__esModule',{value:!0});var n={'min-height':'0','max-height':'none',height:'0',visibility:'hidden',overflow:'hidden',position:'absolute','z-index':'-1000',top:'0',right:'0'},o=function(t){Object.keys(n).forEach(function(o){t.style.setProperty(o,n[o],'important')})},u=null,l=function(t,n){var o=t.scrollHeight;return'border-box'===n.sizingStyle.boxSizing?o+n.borderSize:o-n.paddingSize},c=function(){},h=function(t,n){return t.reduce(function(t,o){return t[o]=n[o],t},{})},s=['borderBottomWidth','borderLeftWidth','borderRightWidth','borderTopWidth','boxSizing','fontFamily','fontSize','fontStyle','fontWeight','letterSpacing','lineHeight','paddingBottom','paddingLeft','paddingRight','paddingTop','tabSize','textIndent','textRendering','textTransform','width'],f=!!document.documentElement.currentStyle,p=function(t){var n=window.getComputedStyle(t);if(null===n)return null;var o=h(s,n),u=o.boxSizing;if(''===u)return null;f&&'border-box'===u&&(o.width=parseFloat(o.width)+parseFloat(o.borderRightWidth)+parseFloat(o.borderLeftWidth)+parseFloat(o.paddingRight)+parseFloat(o.paddingLeft)+'px');return{sizingStyle:o,paddingSize:parseFloat(o.paddingBottom)+parseFloat(o.paddingTop),borderSize:parseFloat(o.borderBottomWidth)+parseFloat(o.borderTopWidth)}},b=function(t){var n=i(d[0])(t);r(d[1]).useEffect(function(){var t=function(t){n.current(t)};return window.addEventListener('resize',t),function(){window.removeEventListener('resize',t)}},[])},v=r(d[1]).forwardRef(function(n,o){var u=n.cacheMeasurements,l=n.maxRows,h=n.minRows,s=n.onChange,f=void 0===s?c:s,v=n.onHeightChange,x=void 0===v?c:v,S=i(d[2])(n,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),y=void 0!==S.value,z=r(d[1]).useRef(null),w=i(d[3])(z,o),R=r(d[1]).useRef(0),F=r(d[1]).useRef(),E=function(){var n=z.current,o=u&&F.current?F.current:p(n);if(o){F.current=o;var c=t(o,n.value||n.placeholder||'x',h,l),s=c[0],f=c[1];R.current!==s&&(R.current=s,n.style.setProperty('height',s+"px",'important'),x(s,{rowHeight:f}))}};return r(d[1]).useLayoutEffect(E),b(E),r(d[1]).createElement("textarea",i(d[4])({},S,{onChange:function(t){y||E(),f(t)},ref:w}))});e.default=v},10485937,[10485938,3,10485940,10485941,10485942]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=function(t){var u=r(d[0]).useRef(t);return i(d[1])(function(){u.current=t}),u};e.default=t},10485938,[3,10485939]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=r(d[0]).useLayoutEffect},10485939,[3]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(t,n){if(null==t)return{};var u,f,l={},c=Object.keys(t);for(f=0;f<c.length;f++)u=c[f],n.indexOf(u)>=0||(l[u]=t[u]);return l}},10485940,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n=function(n,u){'function'!=typeof n?n.current=u:n(u)},u=function(u,t){var c=r(d[0]).useRef();return r(d[0]).useCallback(function(f){u.current=f,c.current&&n(c.current,null),c.current=t,t&&n(t,f)},[t])};e.default=u},10485941,[3]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){return(t=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])}return t}).apply(this,arguments)}Object.defineProperty(e,'__esModule',{value:!0}),e.default=t},10485942,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n=r(d[1]).connect(function(n){var t=n.search;return{loading:t.loading,rankToken:t.rankToken,results:t.results,selectedIndex:t.selectedIndex}},function(n){return{onClearSearch:function(){n(r(d[0]).clearSearch())},onSearch:function(t,c,o){n(r(d[0]).search(t,c,o))},onSearchLocations:function(t,c,o,s){n(r(d[0]).searchLocations(t,c,o,s))},onResultHighlight:function(t,c){n(r(d[0]).selectResult(t,c))}}})(i(d[2]));e.default=n},12713994,[19529964,5,12713995]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){i(d[2])._("86")||r(d[3]).logAction_DEPRECATED(h.typeaheadClickSuccess,{searchContext:t}),i(d[4]).log(function(){return{frontend_env:r(d[5]).getFrontendEnv(),search_context:t}})}function n(t){i(d[2])._("86")||r(d[3]).logAction_DEPRECATED(h.typeaheadAttempt,{searchContext:t}),i(d[6]).log(function(){return{frontend_env:r(d[5]).getFrontendEnv(),search_context:t}})}Object.defineProperty(e,'__esModule',{value:!0});var s=new RegExp(r(d[0]).HASH_CHARS),o=new RegExp(r(d[1]).MENTIONS_MARKER),h={typeaheadAttempt:'typeaheadAttempt',typeaheadClickSuccess:'typeaheadClickSuccess'},u=(function(h){function u(n){var s;(s=h.call(this,n)||this).$Typeahead2=function(t){var n=s.props,o=n.currentLocation,h=n.rankToken;if(s.state.searchContext===r(d[8]).SEARCH_CONTEXT.LOCATION){var u=null===o||void 0===o?void 0:o.latitude,c=null===o||void 0===o?void 0:o.longitude;i(d[2])._("242")?s.props.onSearchLocations(t,h):s.props.onSearchLocations(t,h,u,c)}else s.props.onSearch(s.state.searchContext,t,h);clearTimeout(s.$Typeahead1)},s.$Typeahead6=function(){var t=s.props.useSearchTriggers?null:0;s.setState({pendingQueryStartIndex:t},function(){s.props.onClearSearch()})},s.$Typeahead7=function(n,o){s.$Typeahead6(),s.props.onResultSelect(n,o),t(s.state.searchContext)};var o=n.useSearchTriggers?null:0;return s.state={pendingQueryStartIndex:o,searchContext:n.initialSearchContext},s}i(d[7])(u,h);var c=u.prototype;return c.componentDidMount=function(){var t=this;if(this.props.searchOnMount){var n=this.props,s=n.cursorIndex,o=n.inputString,h=n.useSearchTriggers,u=this.state.pendingQueryStartIndex;if(null!==u){var c=h?o.slice(u,s):o;return clearTimeout(this.$Typeahead1),void(this.$Typeahead1=setTimeout(function(){return t.$Typeahead2(c)},10))}}},c.componentWillUnmount=function(){this.props.onClearSearch(),clearTimeout(this.$Typeahead1)},c.$Typeahead3=function(t){return s.test(t)||o.test(t)},c.$Typeahead4=function(t){return/\s/.test(t)},c.$Typeahead5=function(t){return s.test(t)?r(d[8]).SEARCH_CONTEXT.HASHTAG:o.test(t)?r(d[8]).SEARCH_CONTEXT.USER:r(d[8]).SEARCH_CONTEXT.BLENDED},c.componentDidUpdate=function(t){var s=this,o=this.props,h=o.cursorIndex,u=o.inputString,c=o.useSearchTriggers,p=this.state.pendingQueryStartIndex;if(t.inputString!==u||this.props.searchOnMount&&h!==t.cursorIndex){var l=u.slice(h-1,h);if(c&&this.$Typeahead3(l)){t.onClearSearch();var T=this.$Typeahead5(l);return this.setState({pendingQueryStartIndex:h,searchContext:T}),void n(T)}if(null!==p&&(!u||c&&this.$Typeahead4(l)))return void this.$Typeahead6();if(null!==p){var S=c?u.slice(p,h):u;return clearTimeout(this.$Typeahead1),void(this.$Typeahead1=setTimeout(function(){return s.$Typeahead2(S)},10))}}},c.render=function(){var t=this.props,n=t.className,s=t.loading,o=t.results,h=t.showLargeAvatars,u=t.showResultsCondensed,c=t.size,p=this.state,l=p.pendingQueryStartIndex,T=p.searchContext;return a(d[9]).createElement("div",{className:n},null!=l&&!this.props.searchOnMount&&a(d[9]).createElement(i(d[10]),{loading:s,onResultHighlight:this.props.onResultHighlight,onResultSelect:this.$Typeahead7,pendingQueryStartIndex:l,results:o,searchContext:T,selectedIndex:this.props.selectedIndex,showLargeAvatars:h,showResultsCondensed:u,size:c}),null!=l&&this.props.searchOnMount&&a(d[9]).createElement(i(d[11]),{onResultHighlight:this.props.onResultHighlight,onResultSelect:this.$Typeahead7,pendingQueryStartIndex:l,results:o,searchContext:T}))},u})(a(d[9]).Component);u.defaultProps={initialSearchContext:r(d[8]).SEARCH_CONTEXT.BLENDED,inputString:'',showLargeAvatars:!1,showResultsCondensed:!0,searchOnMount:!1};var c=u;e.default=c},12713995,[10223631,10223632,19726394,19726441,12713996,19726342,12713997,19726416,19726636,3,12713998,12714002]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t={falco:!0,pigeon:!1},n=(function(){function n(){}return n.log=function(n){r(d[0]).FalcoLogger.log('instagram_web_typeahead_result_select',n(),{},t)},n})();e.default=n},12713996,[19726404]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t={falco:!0,pigeon:!1},n=(function(){function n(){}return n.log=function(n){r(d[0]).FalcoLogger.log('instagram_web_typeahead_search_attempt',n(),{},t)},n})();e.default=n},12713997,[19726404]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=(function(t){function s(){for(var s,n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return s=t.call.apply(t,[this].concat(u))||this,s.$TypeaheadResultsList3=function(t,n){n.preventDefault();var u=s.props.pendingQueryStartIndex;s.props.onResultSelect(t,u)},s}i(d[1])(s,t);var n=s.prototype;return n.componentDidUpdate=function(){var t=this.$TypeaheadResultsList1;if(t&&null!=this.props.selectedIndex){var s=t.clientHeight;t.scrollTop=s*Math.floor(this.props.selectedIndex/4)}},n.$TypeaheadResultsList2=function(t){switch(this.props.searchContext){case r(d[2]).SEARCH_CONTEXT.USER:return t.filter(function(t){return t.type===r(d[2]).USER_RESULT});case r(d[2]).SEARCH_CONTEXT.HASHTAG:return t.filter(function(t){return t.type===r(d[2]).HASHTAG_RESULT});case r(d[2]).SEARCH_CONTEXT.LOCATION:return t.filter(function(t){return t.type===r(d[2]).LOCATION_RESULT});case r(d[2]).SEARCH_CONTEXT.BLENDED:default:return t}},n.$TypeaheadResultsList4=function(t){switch(t.type){case r(d[2]).USER_RESULT:return"user_"+t.username;case r(d[2]).HASHTAG_RESULT:return"hashtag_"+t.name;case r(d[2]).LOCATION_RESULT:return"location_"+t.external_id;default:return null}},n.$TypeaheadResultsList5=function(t,s){return a(d[3]).createElement(i(d[4]),{index:s,isSelected:s===this.props.selectedIndex,key:this.$TypeaheadResultsList4(t),onClick:this.$TypeaheadResultsList3,onMouseEnter:this.props.onResultHighlight,result:t,showLargeAvatars:this.props.showLargeAvatars,size:this.props.size})},n.render=function(){var t=this,s=this.props,n=s.loading,u=s.showResultsCondensed;return a(d[3]).createElement("div",{className:"BYCcJ"},n&&a(d[3]).createElement("div",{className:u?"DxLdn":""},a(d[3]).createElement("div",{className:"pvScB "+(u?"":"gdj5j")+" "+(u?"cjQl0":"")},a(d[3]).createElement(r(d[5]).Spinner,{size:"medium"}))),!n&&a(d[3]).createElement("div",{className:"ZmQHO "+(u?"_-7iV1":""),ref:function(s){return t.$TypeaheadResultsList1=s}},this.$TypeaheadResultsList2(this.props.results).map(this.$TypeaheadResultsList5,this)))},s})(a(d[3]).Component);e.default=t},12713998,[12713999,19726416,19726636,3,12714000,19791914]);
__d(function() {},12713999,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);var t=(function(t){function s(){for(var s,n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return s=t.call.apply(t,[this].concat(l))||this,s.$TypeaheadResultsItem2=function(t){s.props.onClick&&s.props.onClick(s.props.result,t)},s.$TypeaheadResultsItem3=function(){s.props.onMouseEnter&&s.props.onMouseEnter(s.props.index,r(d[3]).SEARCH_SELECTED_METHOD.SELECTED_WITH_MOUSE)},s}i(d[2])(s,t);var n=s.prototype;return n.$TypeaheadResultsItem1=function(t){t.preventDefault()},n.$TypeaheadResultsItem4=function(t){switch(t.type){case r(d[3]).USER_RESULT:return a(d[4]).createElement("div",{className:"oTo4c"},a(d[4]).createElement("img",{alt:r(d[5])(453,{username:t.username}),className:"KAWZr",src:t.profilePictureUrl}),a(d[4]).createElement("div",{className:"vBdNO"},a(d[4]).createElement("div",{className:"IEk8l"},t.username,t.isVerified?a(d[4]).createElement("div",{className:"pBgwx coreSpriteVerifiedBadgeSmall"}):null),a(d[4]).createElement("span",{className:"AfmgG"},t.fullName)));case r(d[3]).HASHTAG_RESULT:return a(d[4]).createElement("div",{className:"vBdNO"},a(d[4]).createElement("span",{className:"IEk8l"},'#'+t.name),a(d[4]).createElement("div",{className:"AfmgG"},a(d[4]).createElement(i(d[6]),{value:t.mediaCount,variant:r(d[7]).SOCIAL_PROOF_STATS_VARIANTS.unstyled})));case r(d[3]).LOCATION_RESULT:return a(d[4]).createElement("div",{className:"vBdNO"},a(d[4]).createElement("span",{className:"IEk8l"},t.name),a(d[4]).createElement("span",{className:"AfmgG"},t.address));default:return null}},n.render=function(){var t=this.props,s=t.isSelected,n=t.result,l=t.showLargeAvatars,c=t.size,u=void 0===c?'default':c,o=this.$TypeaheadResultsItem4(n);return o?a(d[4]).createElement("button",{className:(l?"":"Eo_F0")+" "+(l?"osCPk":"")+" "+('extraLarge'===u?"qCen2":"")+" "+(s?"BxMtf":""),onClick:this.$TypeaheadResultsItem2,onMouseDown:this.$TypeaheadResultsItem1,onMouseEnter:this.$TypeaheadResultsItem3},o):null},s})(a(d[4]).Component);e.default=t},12714000,[19791977,12714001,19726416,19726636,3,19726397,19530655,19530489]);
__d(function() {},12714001,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,o)}return s}function n(n){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?t(o,!0).forEach(function(t){i(d[1])(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(o).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function s(t){return t.filter(function(t){return t.type===r(d[2]).USER_RESULT})}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var o='touch_mention',u=(function(t){function u(){for(var n,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=t.call.apply(t,[this].concat(u))||this,n.state={results:[]},n.$StoryTypeaheadResultsList1=function(t,s){s.preventDefault();var o=n.props.pendingQueryStartIndex;n.props.onResultSelect(t,o)},n.$StoryTypeaheadResultsList2=function(t){var s=t.index,u=(t.isVisible,n.state.results[s]);return a(d[4]).createElement("div",{className:"qOsKV",id:o},a(d[4]).createElement("img",{className:"oLiQm",src:u.profilePictureUrl,alt:r(d[5])(453,{username:u.username}),id:o}),a(d[4]).createElement("div",{className:"KMpYj"},u.username))},n.$StoryTypeaheadResultsList3=function(t){t.stopPropagation()},n}i(d[3])(u,t);var c=u.prototype;return c.componentDidMount=function(){this.setState({results:s(this.props.results)})},u.getDerivedStateFromProps=function(t,o){return n({},o,{results:s(t.results)})},c.render=function(){return a(d[4]).createElement("div",{className:"imGmP",id:o},a(d[4]).createElement(i(d[6]),{target:document,event:"touchmove",handler:this.$StoryTypeaheadResultsList3,passive:!1}),a(d[4]).createElement(i(d[7]),{itemCount:this.state.results.length,renderer:this.$StoryTypeaheadResultsList2,direction:"horizontal",containerSize:"auto",estimatedItemSize:100,initialRenderCount:6,overscanCount:6}))},u})(a(d[4]).Component);e.default=u,e.TOUCH_MENTION_ID=o},12714002,[12714003,19726336,19726636,19726416,3,19726397,19726770,19792064]);
__d(function() {},12714003,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(o,n,c){return function(s,u){var l;s({type:r(d[0]).COMMIT_PENDING_COMMENT_REQUESTED,postId:o}),r(d[1]).logAction_DEPRECATED('comment',{source:c});var C=u(),E=C.pendingComments.get(o,r(d[2]).EMPTY_PENDING_COMMENT),I=E.text,p=E.repliedToCommentId,_=E.repliedToCommentAuthorId,T=C.posts.byId.get(o,{hasRankedComments:!1}).hasRankedComments,M=Boolean(null===(l=r(d[3]).getViewer(C))||void 0===l?void 0:l.isVerified);return i(d[4])(r(d[5]).commentOnPost(o,I,p).then(function(t){var l=i(d[6])(r(d[3]).getViewer(u())).id,E=t.id;s({type:r(d[0]).COMMIT_PENDING_COMMENT_SUCCEEDED,postId:o,commentText:I,hasRankedComments:T,commentAuthorId:l,commentAuthorIsVerified:M,commentId:E,postedAt:Math.round(Date.now()/1e3),repliedToCommentId:p}),r(d[1]).logAction_DEPRECATED('commentSuccess',{source:c}),r(d[7]).logOrganicComment({commentAuthorId:l,commentId:E,containerModule:c,mediaId:o,mediaAuthorId:n,mediaType:r(d[8]).getMediaTypeById(C,o),parentCommentId:p,parentCommentAuthorId:_})},function(u){var l,C=(null===(l=u.responseObject)||void 0===l?void 0:l.spam)||!1;if(C){var E,I,p,_,T=null===(E=u.responseObject)||void 0===E?void 0:E.feedback_title,M=null===(I=u.responseObject)||void 0===I?void 0:I.feedback_message,v=null===(p=u.responseObject)||void 0===p?void 0:p.feedback_url,N=null===(_=u.responseObject)||void 0===_?void 0:_.feedback_action;s(r(d[9]).showSentryFeedback({title:T,message:M,url:v,action:N}))}s({type:r(d[0]).COMMIT_PENDING_COMMENT_FAILED,postId:o,toast:C?void 0:{text:r(d[10])(1958),actionText:r(d[10])(262),actionHandler:function(){return s(t(o,n,c))}}}),r(d[1]).logAction_DEPRECATED('commentFailure',{source:c})}))}}Object.defineProperty(e,'__esModule',{value:!0}),e.changePendingComment=function(t,o,n,c,s){return{type:r(d[0]).CHANGE_PENDING_COMMENT,postId:t,text:o,repliedToCommentId:n,repliedToCommentAuthorId:c,repliedToUsername:s}},e.clearPendingComment=function(t){return{type:r(d[0]).CLEAR_PENDING_COMMENT,postId:t}},e.commitPendingComment=t},12845063,[19726560,19726441,19529865,19726673,19726439,19726522,19791900,10485791,10485800,19529960,19726397]);